<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>

<button type=button id="btn">로드</button>
<ul id="showApi">

</ul>
<body>
<script
        src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
        crossorigin="anonymous"></script>
<script>
    // let apiArr = []
    //
    // document.querySelector('#btn').addEventListener('click', () => {
    //     $.getJSON('https://api.odcloud.kr/api/15071595/v1/uddi:262b7fb0-1f5e-40cd-8f14-b0614b4dc997?page=1&perPage=10&serviceKey=Fs0FMSahbQEYkW4qd0bKDnX6ualVgtwD6luFAYuMaOG8c4P%2B%2Bhsjn%2BMh2qNQZoG9AFPrTvZFq%2FJ013lo8dUBWA%3D%3D', function (source){
    //         apiArr = source.data
    //         // console.log(apiArr)
    //         const ulEle = document.querySelector('#showApi')
    //         let str = ''
    //         console.log(apiArr)
    //         // let sortKeys = Object.keys(apiArr).filter(function (sort){return sort.indexOf('구분') >-1 })
    //         // console.log(sortKeys[0])
    //         const value = Object.keys(apiArr)
    //
    //         for (let i = 0; i < apiArr.length; i++) {
    //             str += `<ul>출력확인 : ${apiArr[i].구분}</ul>
    //                     <div>수익률 : ${apiArr[i]["2017년 수익률"]}</div>`
    //         }//end for
    //         ulEle.innerHTML = str
    //     })
    // })

    function loadData(){
        fetch('https://api.odcloud.kr/api/15071595/v1/uddi:262b7fb0-1f5e-40cd-8f14-b0614b4dc997?page=1&perPage=10&serviceKey=Fs0FMSahbQEYkW4qd0bKDnX6ualVgtwD6luFAYuMaOG8c4P%2B%2Bhsjn%2BMh2qNQZoG9AFPrTvZFq%2FJ013lo8dUBWA%3D%3D')
            .then(response => response.json())
            .then(data => {
                const year = data.data // 출력확인
                console.log(year)
                const apiArr = []
                const show = document.querySelector('#showApi')
                for (const i in year) {
                    apiArr.push(year[i].구분)

                }
                show.innerHTML = apiArr
            })
    }
    // loadData()



    function sumMoney(){
        fetch('https://api.odcloud.kr/api/15071595/v1/uddi:262b7fb0-1f5e-40cd-8f14-b0614b4dc997?page=1&perPage=10&serviceKey=Fs0FMSahbQEYkW4qd0bKDnX6ualVgtwD6luFAYuMaOG8c4P%2B%2Bhsjn%2BMh2qNQZoG9AFPrTvZFq%2FJ013lo8dUBWA%3D%3D')
            .then(response => response.json())
            .then(data => {
                const list = []
                const year = data.data // 출력확인
                year.map(m => list.push(m.구분))
                console.log(list)
                console.log(year)
                const perProfit = []
                let result = 0;
                for (const profit of year) {
                 // console.log(profit)
                 perProfit.push(profit)
                 console.log(perProfit)
                 result += (parseFloat(profit["2017년 수익금(단위: 십억원)"]))
                }

            })
        // return result; 여기 ㅓㄶ으면 무한 루프 비슷하게 걸림ㅁ
    }
// sumMoney()

    function showArray() {
        const arr = [1,2,3]
        return arr;
    }
console.log(showArray())

    fetch('https://api.odcloud.kr/api/15071595/v1/uddi:262b7fb0-1f5e-40cd-8f14-b0614b4dc997?page=1&perPage=10&serviceKey=Fs0FMSahbQEYkW4qd0bKDnX6ualVgtwD6luFAYuMaOG8c4P%2B%2Bhsjn%2BMh2qNQZoG9AFPrTvZFq%2FJ013lo8dUBWA%3D%3D')
        .then(response => response.json())
        .then(data => {
            const profit = []
            const year = data.data // 출력확인
            year.map(m => profit.push(m["2017년 수익금(단위: 십억원)"]))
            return profit;
            })



</script>
</body>
</html>